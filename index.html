<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisa de SatisfaÃ§Ã£o - UBS Monsenhor HipÃ³lito</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ“Š Pesquisa de SatisfaÃ§Ã£o</h1>
            <div class="subtitle">Sistema de SaÃºde - UBS Monsenhor HipÃ³lito</div>
            <div class="loading-indicator" id="loadingIndicator">
                <div class="spinner"></div>
                <span>Carregando dados...</span>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboardContent" style="opacity: 0;">
            <!-- EstatÃ­sticas Gerais -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“</div>
                    <div class="stat-number" id="totalResponses">0</div>
                    <div class="stat-label">Respostas Coletadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">â­</div>
                    <div class="stat-number" id="avgRating">0</div>
                    <div class="stat-label">Nota MÃ©dia ExperiÃªncia UBS</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ˜Š</div>
                    <div class="stat-number" id="satisfactionRate">0%</div>
                    <div class="stat-label">Taxa de SatisfaÃ§Ã£o (Nota 4-5)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ•’</div>
                    <div class="stat-number" id="avgScheduleRating">0</div>
                    <div class="stat-label">Nota MÃ©dia HorÃ¡rio Corrido</div>
                </div>
            </div>

            <!-- Cards de Resumo -->
            <div class="summary-cards">
                <div class="summary-card">
                    <h3>ğŸ“… PerÃ­odo da Pesquisa</h3>
                    <div id="periodInfo" class="summary-value">-</div>
                    <div class="summary-detail" id="periodDetail">-</div>
                </div>
                <div class="summary-card">
                    <h3>ğŸ‘¥ AnÃ¡lise EtÃ¡ria</h3>
                    <div id="ageInfo" class="summary-value">-</div>
                    <div class="age-distribution" id="ageDistribution"></div>
                </div>
                <div class="summary-card">
                    <h3>âœ… Expectativas Atendidas</h3>
                    <div id="expectationsInfo" class="summary-value">-</div>
                    <div class="expectations-chart" id="expectationsChart"></div>
                </div>
            </div>

            <!-- GrÃ¡ficos -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3 class="chart-title">ğŸ“ˆ DistribuiÃ§Ã£o de Notas - ExperiÃªncia na UBS</h3>
                    <div class="chart-bars" id="ubsChart"></div>
                    <div class="chart-labels">
                        <span>Nota 1</span>
                        <span>Nota 2</span>
                        <span>Nota 3</span>
                        <span>Nota 4</span>
                        <span>Nota 5</span>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3 class="chart-title">ğŸ• AvaliaÃ§Ã£o do HorÃ¡rio Corrido</h3>
                    <div class="chart-bars" id="scheduleChart"></div>
                    <div class="chart-labels">
                        <span>Nota 1</span>
                        <span>Nota 2</span>
                        <span>Nota 3</span>
                        <span>Nota 4</span>
                        <span>Nota 5</span>
                    </div>
                </div>
            </div>

            <!-- Tabela de Respostas -->
            <div class="table-section">
                <div class="table-header">
                    <h2 class="section-title">ğŸ“‹ Todas as Respostas da Pesquisa</h2>
                    <div class="table-controls">
                        <input type="text" id="searchInput" placeholder="Buscar nas respostas..." class="search-input">
                        <select id="filterRating" class="filter-select">
                            <option value="">Todas as notas</option>
                            <option value="5">Nota 5</option>
                            <option value="4">Nota 4</option>
                            <option value="3">Nota 3</option>
                            <option value="2">Nota 2</option>
                            <option value="1">Nota 1</option>
                        </select>
                        <button onclick="exportToCSV()" class="export-btn">ğŸ“Š Exportar CSV</button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="modern-table">
                        <thead>
                            <tr>
                                <th onclick="sortTable(0)">Data ğŸ“…</th>
                                <th onclick="sortTable(1)">Nome ğŸ‘¤</th>
                                <th onclick="sortTable(2)">Idade ğŸ‚</th>
                                <th onclick="sortTable(3)">Exp. UBS â­</th>
                                <th onclick="sortTable(4)">Expectativas âœ…</th>
                                <th onclick="sortTable(5)">HorÃ¡rio ğŸ•’</th>
                                <th>SugestÃµes ğŸ’­</th>
                            </tr>
                        </thead>
                        <tbody id="responsesTable">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <div class="pagination" id="pagination"></div>
                    <div class="table-info" id="tableInfo">Mostrando 0 de 0 respostas</div>
                </div>
            </div>

            <!-- AnÃ¡lise de ComentÃ¡rios -->
            <div class="feedback-analysis">
                <h2 class="section-title">ğŸ’¬ AnÃ¡lise dos ComentÃ¡rios e SugestÃµes</h2>
                
                <div class="feedback-stats">
                    <div class="feedback-stat">
                        <div class="feedback-number" id="totalComments">0</div>
                        <div class="feedback-label">ComentÃ¡rios</div>
                    </div>
                    <div class="feedback-stat">
                        <div class="feedback-number" id="positiveComments">0</div>
                        <div class="feedback-label">Positivos</div>
                    </div>
                    <div class="feedback-stat">
                        <div class="feedback-number" id="suggestionComments">0</div>
                        <div class="feedback-label">SugestÃµes</div>
                    </div>
                </div>

                <div class="feedback-categories">
                    <div class="category-card excellent">
                        <h4>ğŸŒŸ ComentÃ¡rios Excelentes (Nota 5)</h4>
                        <div class="feedback-list" id="excellentFeedback"></div>
                    </div>
                    
                    <div class="category-card good">
                        <h4>ğŸ‘ ComentÃ¡rios Bons (Nota 4)</h4>
                        <div class="feedback-list" id="goodFeedback"></div>
                    </div>
                    
                    <div class="category-card suggestions">
                        <h4>ğŸ’¡ Principais SugestÃµes de Melhoria</h4>
                        <div class="feedback-list" id="suggestionsFeedback"></div>
                    </div>
                </div>
            </div>

            <!-- Insights AutomÃ¡ticos -->
            <div class="insights-section">
                <h2 class="section-title">ğŸ” Insights e AnÃ¡lises</h2>
                <div class="insights-grid" id="insightsGrid">
                    <!-- Insights will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>